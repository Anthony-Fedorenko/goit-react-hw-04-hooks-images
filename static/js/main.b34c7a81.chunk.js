(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__9mlpo",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1BE7j"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__IieN_",Modal:"Modal_Modal__2yw30"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3HNYr"}},24:function(e,t,a){e.exports={Button:"Button_Button__pze0W"}},30:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__FMIeW",SearchFormButton:"Searchbar_SearchFormButton__2NlcJ",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__eMKsC",SearchForm:"Searchbar_SearchForm__2aVPc",SearchFormInput:"Searchbar_SearchFormInput__3CSdr"}},71:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(7),o=a.n(c),l=(a(30),a(14)),i=a(4),u=a(11),s=a.n(u);s.a.defaults.baseURL="https://pixabay.com/api/";var m=a(5),b=a.n(m),h=a(1);function j(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(h.jsx)("header",{className:b.a.Searchbar,children:Object(h.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(c),o("")},children:[Object(h.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(h.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){var t=e.currentTarget.value.toLowerCase().trim();o(t)}})]})})}var d=a(23),f=a.n(d),O=function(e){var t=e.children;return Object(h.jsx)("ul",{className:f.a.ImageGallery,children:t})},g=a(12),p=a.n(g),S=function(e){var t=e.srcWebformat,a=e.onClick;return Object(h.jsx)("li",{className:p.a.ImageGalleryItem,onClick:a,children:Object(h.jsx)("img",{src:t,alt:"",className:p.a.ImageGalleryItemImage})})},_=a(24),y=a.n(_),v=function(e){var t=e.onClick;e.length;return Object(h.jsx)("button",{type:"button",className:y.a.Button,onClick:t,children:"Load more"})},I=a(25),x=a.n(I),w=function(){return Object(h.jsx)(x.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})},F=a(13),k=a.n(F),C=document.querySelector("#modal-root");function N(e){var t=e.children,a=e.onClose,n=function(e){"Escape"===e.code&&a()};return Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),Object(c.createPortal)(Object(h.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(h.jsx)("div",{className:k.a.Modal,children:t})}),C)}function B(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(i.a)(c,2),u=o[0],m=o[1],b=Object(r.useState)(1),d=Object(i.a)(b,2),f=d[0],g=d[1],p=Object(r.useState)(!1),_=Object(i.a)(p,2),y=_[0],I=_[1],x=Object(r.useState)(null),F=Object(i.a)(x,2),k=F[0],C=F[1],B=Object(r.useState)(""),G=Object(i.a)(B,2),L=G[0],E=G[1],M=Object(r.useState)(!1),T=Object(i.a)(M,2),P=T[0],W=T[1];Object(r.useEffect)((function(){u&&z()}),[u]);var z=function(){var e={searchQuery:u,currentPage:f};I(!0),function(e){var t=e.searchQuery,a=void 0===t?"":t,r=e.currentPage,n=void 0===r?1:r,c=e.pageSize,o=void 0===c?12:c;return s.a.get("/?key=".concat("21940379-165654ee27b0a15257d8ffa36","&q=").concat(a,"&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(o)).then((function(e){return e.data.hits}))}(e).then((function(e){return n([].concat(Object(l.a)(a),Object(l.a)(e)))}),g(f+1)).then(J).catch((function(e){return C(e)})).finally((function(){return I(!1)}))},J=function(){f>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},R=function(){W((function(e){return!e}))},U=a.length>0&&!y;return Object(h.jsxs)("div",{children:[Object(h.jsx)(j,{onSubmit:function(e){m(e),n([]),g(1),C(null)}}),k&&Object(h.jsx)("p",{children:"Sorry! Somethimg went wrong. Try again, please!"}),Object(h.jsx)(O,{children:a.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL;return Object(h.jsx)(S,{srcWebformat:a,pictureId:t,onClick:function(){return E(r),void R()}},t)}))}),y&&Object(h.jsx)(w,{}),U&&Object(h.jsx)(v,{onClick:z,length:a.length}),P&&Object(h.jsx)(N,{onClose:R,children:Object(h.jsx)("img",{src:L,alt:""})})]})}o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.b34c7a81.chunk.js.map