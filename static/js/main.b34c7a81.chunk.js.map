{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.module.css","Api/Api.js","Components/Searchbar/Searchbar.js","Components/ImageGallery/ImageGallery.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","Searchbar","onSubmit","useState","query","setQuery","className","style","SearchForm","e","preventDefault","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","queryValue","currentTarget","toLowerCase","trim","ImageGallery","children","ImageGalleryItem","srcWebformat","onClick","src","alt","ImageGalleryItemImage","Button","length","GalleryLoader","color","height","width","modalRoot","document","querySelector","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","target","App","hits","setHits","searchQuery","setSearchQuery","currentPage","setCurrentPage","isLoading","setIsLoading","error","setError","largeImageURL","setLargeImageURL","isModalOpen","setIsModalOpen","fetchHits","option","pageSize","get","then","response","data","api","prevHits","smoothScroll","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","prevState","shouldRenderLoadMoreButton","map","id","webformatURL","pictureId","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b34c7a81.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__9mlpo\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1BE7j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__IieN_\",\"Modal\":\"Modal_Modal__2yw30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3HNYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__pze0W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__FMIeW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2NlcJ\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__eMKsC\",\"SearchForm\":\"Searchbar_SearchForm__2aVPc\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3CSdr\"};","import axios from \"axios\";\r\n\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\nconst KEY = \"21940379-165654ee27b0a15257d8ffa36\";\r\n\r\nconst fetchHits = ({ searchQuery = \"\", currentPage = 1, pageSize = 12 }) => {\r\n    return axios\r\n        .get(\r\n            `/?key=${KEY}&q=${searchQuery}&page=${currentPage}&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n        )\r\n        .then((response) => response.data.hits);\r\n}\r\n\r\n\r\nexport { fetchHits }","import {useState} from \"react\";\r\nimport style from './Searchbar.module.css'\r\n\r\nexport default function Searchbar({onSubmit}) {\r\n    const [query, setQuery] = useState('')\r\n\r\n    const handleChange = e => {\r\n        const queryValue = e.currentTarget.value.toLowerCase().trim()\r\n        setQuery(queryValue)\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        onSubmit(query)\r\n\r\n        setQuery('')\r\n    }\r\n\r\n    return (\r\n        <header className={style.Searchbar}>\r\n            <form className={style.SearchForm} onSubmit={handleSubmit}>\r\n                <button type=\"submit\" className={style.SearchFormButton}>\r\n                    <span className={style.SearchFormButtonLabel}>Search</span>\r\n                </button>\r\n\r\n                <input\r\n                    className={style.SearchFormInput}\r\n                    type=\"text\"\r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                    value={query}\r\n                    onChange={handleChange}\r\n                />\r\n            </form>\r\n        </header>\r\n    )\r\n}","import style from './ImageGallery.module.css'\r\n\r\nconst ImageGallery = ({children}) => {\r\n    return <ul className={style.ImageGallery}>{children}</ul>;\r\n}\r\n\r\nexport default ImageGallery","import style from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({srcWebformat, onClick}) => {\r\n    return (\r\n        <li className={style.ImageGalleryItem} onClick={onClick}>\r\n            <img src={srcWebformat} alt=\"\" className={style.ImageGalleryItemImage}/>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default ImageGalleryItem","import React from \"react\";\r\nimport PropTypes from 'prop-types'\r\nimport style from './Button.module.css'\r\n\r\nconst Button = ({ onClick, length}) => (\r\n    <button type=\"button\" className={style.Button} onClick={onClick}>\r\n        Load more\r\n    </button>\r\n);\r\n\r\nButton.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;","import Loader from 'react-loader-spinner';\r\n\r\nconst GalleryLoader = () => (\r\n    <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n)\r\n\r\nexport default GalleryLoader","import {useEffect} from \"react\";\r\nimport {createPortal} from \"react-dom\";\r\nimport PropTypes from 'prop-types'\r\n\r\nimport style from './Modal.module.css'\r\n\r\nconst modalRoot = document.querySelector('#modal-root')\r\n\r\nexport default function Modal({ children, onClose }) {\r\n    const handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            onClose()\r\n        }\r\n    }\r\n\r\n    const handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            onClose()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown)\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown)\r\n        }\r\n    })\r\n\r\n    return createPortal(\r\n        <div className={style.Overlay} onClick={handleBackdropClick}>\r\n            <div className={style.Modal}>{children}</div>\r\n        </div>,\r\n        modalRoot,\r\n    )\r\n}\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    onClose: PropTypes.func.isRequired,\r\n}","import {useState, useEffect} from \"react\";\n\nimport * as api from '../src/Api/Api';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport ImageGalleryItem from './Components/ImageGalleryItem/ImageGalleryItem';\nimport Button from './Components/Button/Button';\nimport GalleryLoader from './Components/Loader/Loader';\nimport Modal from './Components/Modal/Modal';\n\n\nexport default function App() {\n  const [hits, setHits] = useState([])\n  const [searchQuery, setSearchQuery] = useState('')\n  const [currentPage, setCurrentPage] = useState(1)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState(null)\n  const [largeImageURL, setLargeImageURL] = useState('')\n  const [isModalOpen, setIsModalOpen] = useState(false)\n\n  useEffect(() => {\n    if (!searchQuery) {\n      return\n    }\n    fetchHits()\n\n  }, [searchQuery])\n\n  const onChangeQuery = query => {\n    setSearchQuery(query)\n    setHits([])\n    setCurrentPage(1)\n    setError(null)\n  }\n\n  const fetchHits = () => {\n    const option = { searchQuery, currentPage }\n    setIsLoading(true)\n    api\n        .fetchHits(option)\n        .then(\n            prevHits => setHits([...hits, ...prevHits]),\n            setCurrentPage(currentPage + 1),\n        )\n        .then(smoothScroll)\n        .catch(error => setError(error))\n        .finally(() => setIsLoading(false))\n  }\n\n  const smoothScroll = () => {\n    if (currentPage > 1) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      })\n    }\n  }\n\n  const handleImageClick = url => {\n    setLargeImageURL(url)\n    toggleModal()\n  }\n\n  const toggleModal = () => {\n    setIsModalOpen(prevState => !prevState)\n  }\n\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading\n\n  return (\n      <div >\n        <Searchbar onSubmit={onChangeQuery} />\n\n        {error && <p>Sorry! Somethimg went wrong. Try again, please!</p>}\n\n        <ImageGallery>\n          {hits.map(({ id, webformatURL, largeImageURL }) => (\n              <ImageGalleryItem\n                  key={id}\n                  srcWebformat={webformatURL}\n                  pictureId={id}\n                  onClick={() => handleImageClick(largeImageURL)}\n              />\n          ))}\n        </ImageGallery>\n\n        {isLoading && <GalleryLoader />}\n\n        {shouldRenderLoadMoreButton && (\n            <Button onClick={fetchHits} length={hits.length} />\n        )}\n\n        {isModalOpen && (\n            <Modal onClose={toggleModal}>\n              <img src={largeImageURL} alt=\"\" />\n            </Modal>\n        )}\n      </div>\n  )\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}